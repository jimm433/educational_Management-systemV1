<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <title>å‰µå»ºæ–°è€ƒè©¦ - è‡ªå‹•æ‰¹æ”¹ç³»çµ±æ•™å¸«ç‰ˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#f6f7fb;margin:0;padding:24px}
    .wrap{max-width:800px;margin:0 auto}
    .card{background:#fff;border-radius:14px;padding:32px;box-shadow:0 6px 20px rgba(0,0,0,.06)}
    h1{margin:0 0 24px;font-size:24px;color:#1f2937}
    .form-group{margin-bottom:20px}
    label{display:block;font-weight:600;color:#374151;margin-bottom:8px}
    input[type=text], input[type=number], select, textarea{width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;box-sizing:border-box}
    input[type=file]{width:100%;padding:8px;border:2px dashed #d1d5db;border-radius:8px;background:#f9fafb}
    textarea{min-height:120px;resize:vertical}
    .btn{display:inline-block;background:#4f46e5;color:#fff;border:none;border-radius:8px;padding:12px 24px;cursor:pointer;text-decoration:none;font-size:14px;font-weight:500}
    .btn:hover{background:#4338ca}
    .btn-secondary{background:#6b7280}
    .btn-secondary:hover{background:#4b5563}
    .form-actions{display:flex;gap:12px;margin-top:24px}
    .help-text{color:#6b7280;font-size:12px;margin-top:4px}
    .required{color:#dc2626}
    .back-link{display:inline-block;margin-bottom:20px;color:#4f46e5;text-decoration:none}
    .back-link:hover{text-decoration:underline}
  </style>
</head>
<body>
  <div class="wrap">
    <a href="{{ url_for('dashboard') }}" class="back-link">â† è¿”å›å„€è¡¨æ¿</a>
    
    <div class="card">
      <h1>ğŸ“ å‰µå»ºæ–°è€ƒè©¦</h1>
      
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div style="margin-bottom:20px">
          {% for cat, msg in messages %}
            <div style="padding:12px 16px;background:{% if cat=='error' %}#fef2f2;color:#dc2626;border-left:4px solid #dc2626{% else %}#f0fdf4;color:#16a34a;border-left:4px solid #16a34a{% endif %};border-radius:8px;margin-bottom:8px">
              {{ msg }}
            </div>
          {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <form method="post" enctype="multipart/form-data">
        <div class="form-group">
          <label for="title">è€ƒè©¦æ¨™é¡Œ <span class="required">*</span></label>
          <input type="text" id="title" name="title" required placeholder="ä¾‹å¦‚ï¼šæœŸä¸­è€ƒè©¦ã€æœŸæœ«è€ƒè©¦">
          <div class="help-text">è«‹è¼¸å…¥è€ƒè©¦çš„æ¨™é¡Œ</div>
        </div>

        <div class="form-group">
          <label for="subject">ç§‘ç›® <span class="required">*</span></label>
          <select id="subject" name="subject" required>
            <option value="">è«‹é¸æ“‡ç§‘ç›®</option>
            <option value="C#">C#</option>
            <option value="Java">Java</option>
            <option value="Python">Python</option>
            <option value="JavaScript">JavaScript</option>
            <option value="C++">C++</option>
            <option value="å…¶ä»–">å…¶ä»–</option>
          </select>
          <div class="help-text">é¸æ“‡è€ƒè©¦ç§‘ç›®ï¼Œç³»çµ±æœƒä½¿ç”¨å°æ‡‰çš„è©•åˆ†æè©</div>
        </div>

        <div class="form-group">
          <label for="description">è€ƒè©¦æè¿°</label>
          <textarea id="description" name="description" placeholder="æè¿°è€ƒè©¦å…§å®¹ã€æ³¨æ„äº‹é …ç­‰..."></textarea>
          <div class="help-text">å¯é¸ï¼šæè¿°è€ƒè©¦çš„ç›¸é—œè³‡è¨Š</div>
        </div>

        <div class="form-group">
          <label for="max_score">æ»¿åˆ†</label>
          <input type="number" id="max_score" name="max_score" value="100" min="1" max="1000">
          <div class="help-text">è€ƒè©¦çš„æ»¿åˆ†ï¼Œé è¨­ç‚º100åˆ†</div>
        </div>

        <div class="form-group">
          <label for="question_file">é¡Œç›®æª”æ¡ˆ <span class="required">*</span></label>
          <input type="file" id="question_file" name="question_file" accept=".txt,.pdf,.docx" required>
          <div class="help-text">æ”¯æ´æ ¼å¼ï¼šTXTã€PDFã€DOCXã€‚è«‹ç¢ºä¿é¡Œç›®æ ¼å¼æ¸…æ™°ï¼Œç³»çµ±æœƒè‡ªå‹•è­˜åˆ¥é¡Œè™Ÿã€‚</div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn">å‰µå»ºè€ƒè©¦</button>
          <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">å–æ¶ˆ</a>
        </div>
      </form>
    </div>
  </div>
</body>
</html>

